- defaults:
    shell:
      stdout: true
      stderr: true
      stdin: true

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    -
      command: '[ -d ~/.vim/bundle/Vundle.vim/ ] || git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim'
      description: Installing Vundle
    - [vim +PluginInstall +qall, Installing vim plugins]

- clean: ['~']

- link:
    ~/.bash_profile:
    ~/.gitconfig:
    ~/.gitignore_global:
    ~/.vimrc:
    ~/.config/thefuck:
      create: true
    ~/Library/Application Support/Code/User/settings.json:
      path: vscode/settings.json
      create: true
      force: true
    ~/Library/Application Support/Code/User/keybindings.json:
      path: vscode/keybindings.json
      create: true
      force: true
    ~/Library/Application Support/Code/User/snippets:
      path: vscode/snippets
      create: true
      force: true
    ~/.gnupg/gpg-agent.conf:
      path: gpg-agent.conf
      create: true
      force: true
    ~/.tigrc:
    ~/.tigrc-vim:
    ~/Library/LaunchAgents/:
      glob: true
      path: LaunchAgents/*
    ~/.hyper.js:
      path: hyper.js

- brewfile:
    - Brewfile

- shell:
    - ["code $(sed -e 's/^/--install-extension /' vscode/extensions.txt)", Installing Visual Studio Code Extensions]
    -
      command: "cat vim-press-and-hold.txt | xargs -I {} defaults write {} ApplePressAndHoldEnabled -bool false"
      description: Fixing Keyboard Press and Hold for apps with vim plugins
